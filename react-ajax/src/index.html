<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>
  <!-- JSON：JavaScript 对象表示法（JavaScript Object Notation）。
  JSON 是存储和交换文本信息的语法。类似 XML。
  JSON 比 XML 更小、更快，更易解析。 -->
  <div id="name"></div>
  <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script>
  <script src="https://cdn.bootcss.com/axios/0.17.1/axios.min.js"></script>
  <script>
    // var xml = new XMLHttpRequest()
    // xml.open("GET","https://api.github.com/users/sunny-zz",true)
    // xml.send()
    // xml.open("POST","https://cnodejs.org/api/v1/accesstoken",true)
    // xml.setRequestHeader("Content-type","application/json")
    // xml.send('{"accesstoken":"9948d556-1825-416f-934f-b3ce046403e3"}')
    // xml.onreadystatechange=function(){
    //   if (xml.readyState==4 && xml.status==200){
    //     // var username = JSON.parse(xml.responseText).login
    //     // document.getElementById('name').innerHTML = username
    //     console.log(xml.responseText)
    //   }
    // }
    // console.log(1)

    // var objJson = '{"name":"zzt"}'
    // //将json 格式转化为 对象类型
    // // JSON.stringify() 将对象转化为json字符串
    // // JSON.parse() 将json字符串转化为对象
    // console.log(JSON.parse(objJson))
    // var obj = {name:'zzt'}
    // console.log(JSON.stringify(obj))

    // console.log($)
    //jquery 的 ajax
    //GET
    // $.ajax({
    //   url:'https://ap.github.com/users/sunny-zz',
    //   success:function(data,status,xhr){
    //     console.log(data,status,xhr)
    //     document.getElementById('name').innerHTML= data.login
    //   },
    //   error:function(error){
    //     console.log('获取数据失败')
    //     console.log(error)
    //   }
    // })
    // post 方法向服务器发送数据
    // 设置发送数据的类型  contentType:'application/json'
    // $.ajax({
    //   url:'https://cnodejs.org/api/v1/accesstoken',
    //   method:'POST',
    //   contentType: 'application/json',
    //   data:'{"accesstoken":"9948d556-1825-416f-934f-b3ce046403e3"}',
    //   success:function(data,status,xhr){
    //     console.log(data,status,xhr)
    //   },
    //   error:function(error){
    //     console.log('获取数据失败')
    //     console.log(error)
    //   }
    // })
    // $.ajax({
    //   url:'https://cnodejs.org/api/v1/accesstoken',
    //   method:'POST',
    //   contentType: 'application/json',
    //   data:'{"accesstoken":"9948d556-1825-416f-934f-b3ce046403e3"}'
    // }).done(function(data){
    //   console.log(data)
    // }).fail(function(error){
    //   console.log(error)
    // })
    // $.get()     $.post()


    // fetch
    // Promise 对象
    // pending 执行中
    // resolve 执行完毕
    // reject  失败

    // var time = new Promise(function(resolve,reject){
    //   console.log('正在干活')
    //   //异步操作
    //   setTimeout(function(){
    //     resolve(123)
    //   },2000)
    // })
    //
    // time.then(function(num){
    //   console.log(num)
    //   console.log('终于干完了')
    // })
    //
    // time.catch(function(){
    //   console.log('干不完')
    // })


    // function promiseTodo (num1,num2) {
  	// 	return new Promise( function (resolve,reject) {
  	// 		function todo(){
  	// 			setTimeout(function(){
  	// 				if(num1===num2){
  	// 					resolve()
  	// 				}else{
    //           console.log(`还差${num2-num1}`);
    //           num1++
  	// 					todo()
  	// 				}
  	// 			},1000)
  	// 		}
  	// 		todo()
  	// 	}).then(function(){
    //     console.log('完成')
    //   })
  	// }
  	// promiseTodo(1,3).then(function(){
    //   promiseTodo(3,5)
    // })
    //fetch ajax
    // fetch('https://api.github.com/users/newming')
  	// 	.then(function (data) {
  	// 		return data.json()
  	// 	}).then(function (obj) {
  	// 		console.log(obj)
  	// 	}).catch(function(){
    //     console.log('失败')
    //   })
    // fetch('https://cnodejs.org/api/v1/accesstoken',{
    //   method: "POST",
    //   headers: {
    //    "Content-Type": "application/json"
    //   },
    //   body:'{"accesstoken":"9948d556-1825-416f-934f-b3ce046403e3"}'
    // }).then(function(data){
    //   return data.json()
    // }).then(function(res){
    //   console.log(res)
    // }).catch(function(){
    //   console.log('失败')
    // })
    // axios    ajax

    // console.log(axios)
    // axios.get('https://api.github1.com/users/sunny-zz')
    //   .then(function(res){
    //     console.log(res.data)
    //   })
    //   .catch(function(err){
    //     console.log(err)
    //   })
    // axios.post('https://cnodejs.org/api/v1/accesstoken',{accesstoken:'9948d556-1825-416f-934f-b3ce046403e3'})
    //   .then(function(res){
    //     console.log(res.data)
    //   })
    //   .catch(function(err){
    //     console.log(err)
    //   })

  

  </script>
</body>
</html>
